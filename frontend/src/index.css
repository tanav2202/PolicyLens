@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    font-size: 16px;
    scroll-behavior: smooth;
    background: #0a0a0c;
    color-scheme: dark;
  }
  body {
    @apply font-sans text-zinc-100 antialiased min-h-screen;
    background: #0a0a0c;
  }
  /* Dark theme native controls */
  select, input, textarea, button {
    color-scheme: dark;
  }
}

.animated-bg {
  background: radial-gradient(ellipse 120% 100% at 50% 0%, rgba(30,27,75,0.35) 0%, transparent 50%),
    radial-gradient(ellipse 80% 80% at 80% 20%, rgba(15,23,42,0.4) 0%, transparent 45%),
    linear-gradient(180deg, #0c0c0f 0%, #0a0a0c 100%);
  background-size: 100% 100%, 100% 100%, 100% 100%;
}

@keyframes gradient-shift {
  0%, 100% { opacity: 1; filter: hue-rotate(0deg); }
  50% { opacity: 0.95; }
}

.animated-bg::before {
  content: '';
  position: absolute;
  inset: 0;
  background: radial-gradient(ellipse 100% 80% at 20% 80%, rgba(59, 7, 100, 0.12) 0%, transparent 50%),
    radial-gradient(ellipse 60% 100% at 90% 50%, rgba(30, 58, 138, 0.08) 0%, transparent 50%);
  animation: gradient-shift 12s ease-in-out infinite;
  pointer-events: none;
}

/* Preserve newlines in chat messages (user bubbles) */
.chat-message {
  word-break: break-word;
}

.chat-message:not(.chat-markdown) {
  white-space: pre-wrap;
}

/* Dark-mode markdown in assistant messages */
.chat-markdown {
  --md-link: theme('colors.indigo.400');
  --md-code-bg: theme('colors.zinc.700');
}

.chat-markdown p {
  white-space: pre-wrap;
}
